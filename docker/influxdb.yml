version: "3.9"

networks:
    default:
        driver: bridge

services:
    influxdb:
        image: influxdb:latest
        container_name: influxdb
        restart: unless-stopped
        ports:
            - "8086:8086"
        volumes:
            - ./influxdb/config:/etc/influxdb2:Z
            - ./influxdb/data:/var/lib/influxdb2:Z
        environment:
            - DOCKER_INFLUXDB_INIT_MODE=setup
            - DOCKER_INFLUXDB_INIT_USERNAME=ejk
            - DOCKER_INFLUXDB_INIT_PASSWORD=11111111
            - DOCKER_INFLUXDB_INIT_ORG=org
            - DOCKER_INFLUXDB_INIT_BUCKET=default-bucket
            - DOCKER_INFLUXDB_INIT_ADMIN_TOKEN=my_super_secret_token
